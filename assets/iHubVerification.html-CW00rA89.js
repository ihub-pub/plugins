import{_ as c,a as p}from"./printFinishedJacocoReportCoverage-CAauqfUl.js";import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as u,c as v,d as t,e as o,b as d,a as r,w as e,o as g}from"./app-BNKWpxIq.js";const f={},m={href:"https://docs.gradle.org/current/userguide/codenarc_plugin.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://docs.gradle.org/current/userguide/pmd_plugin.html",target:"_blank",rel:"noopener noreferrer"},E={href:"https://docs.gradle.org/current/userguide/jacoco_plugin.html",target:"_blank",rel:"noopener noreferrer"},x={href:"https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html",target:"_blank",rel:"noopener noreferrer"},j={class:"hint-container tip"},y={href:"https://github.com/ihub-pub/plugins/blob/main/ihub-plugins/src/main/resources/META-INF/codenarc.groovy",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/ihub-pub/plugins/tree/main/samples/sample-groovy",target:"_blank",rel:"noopener noreferrer"},h={class:"footnotes"},C={class:"footnotes-list"},B={id:"footnote1",class:"footnote-item"},D={href:"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html",target:"_blank",rel:"noopener noreferrer"};function P(V,n){const l=u("ExternalLinkIcon"),i=u("CodeTabs");return g(),v("div",null,[n[56]||(n[56]=t("h1",{id:"ihub-verification",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#ihub-verification","aria-hidden":"true"},"#"),o(" ihub-verification")],-1)),n[57]||(n[57]=t("div",{class:"hint-container info"},[t("p",{class:"hint-container-title"},"插件说明"),t("p",null,[t("code",null,"ihub-verification"),o("插件用于配置代码静态检查以及测试用例覆盖率等。")])],-1)),t("table",null,[n[17]||(n[17]=t("thead",null,[t("tr",null,[t("th",null,"信息"),t("th",null,"描述")])],-1)),t("tbody",null,[n[13]||(n[13]=t("tr",null,[t("td",null,"插件ID"),t("td",null,[t("code",null,"pub.ihub.plugin.ihub-verification")])],-1)),n[14]||(n[14]=t("tr",null,[t("td",null,"插件名称"),t("td",null,[t("code",null,"验证插件")])],-1)),n[15]||(n[15]=t("tr",null,[t("td",null,"插件类型"),t("td",null,[t("code",null,"Project"),t("sup",{class:"footnote-ref"},[t("a",{href:"#footnote1"},"[1]"),t("a",{class:"footnote-anchor",id:"footnote-ref1"})])])],-1)),n[16]||(n[16]=t("tr",null,[t("td",null,"扩展名称"),t("td",null,[t("code",null,"iHubVerification")])],-1)),t("tr",null,[n[12]||(n[12]=t("td",null,"插件依赖",-1)),t("td",null,[n[4]||(n[4]=t("a",{href:"iHubBom"},"ihub-bom",-1)),n[5]||(n[5]=o("、",-1)),t("a",m,[n[0]||(n[0]=o("codenarc",-1)),d(l)]),n[6]||(n[6]=o("、",-1)),t("a",k,[n[1]||(n[1]=o("pmd",-1)),d(l)]),n[7]||(n[7]=o("、",-1)),t("a",E,[n[2]||(n[2]=o("jacoco",-1)),d(l)]),n[8]||(n[8]=o("、",-1)),t("a",x,[n[3]||(n[3]=o("jacoco-report-aggregation",-1)),d(l)]),n[9]||(n[9]=o("（",-1)),n[10]||(n[10]=t("code",null,"主项目",-1)),n[11]||(n[11]=o("）",-1))])])])]),t("div",j,[n[30]||(n[30]=t("p",{class:"hint-container-title"},"插件功能",-1)),t("ul",null,[t("li",null,[n[20]||(n[20]=o("项目包含",-1)),n[21]||(n[21]=t("code",null,"groovy",-1)),n[22]||(n[22]=o("插件时会自动配置",-1)),n[23]||(n[23]=t("code",null,"codenarc",-1)),n[24]||(n[24]=t("br",null,null,-1)),n[25]||(n[25]=o(" 插件，默认配置",-1)),t("a",y,[n[18]||(n[18]=o("详见",-1)),d(l)]),n[26]||(n[26]=o("，可以通过配置",-1)),n[27]||(n[27]=t("code",null,"$rootDir/conf/codenarc/codenarc.groovy",-1)),n[28]||(n[28]=o("覆盖默认配置，",-1)),t("a",A,[n[19]||(n[19]=o("示例",-1)),d(l)])]),n[29]||(n[29]=t("li",null,[o("项目包含"),t("code",null,"java"),o("插件时会自动配置"),t("code",null,"pmd"),o("插件，组件使用"),t("code",null,"com.alibaba.p3c:p3c-pmd"),o("，可通过"),t("code",null,"$rootDir/conf/pmd/ruleset.xml"),o("配置检查规则，默认规则如下：")],-1))]),n[31]||(n[31]=r(`<div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>ruleSets <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;rulesets/java/ali-comment.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-concurrent.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-constant.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-exception.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-flowcontrol.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-naming.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-oop.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-orm.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-other.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/java/ali-set.xml&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;rulesets/vm/ali-other.xml&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>jacoco</code>插件用于检查代码测试覆盖率，主要检查维度为：<code>bundle分支覆盖率</code>、<code>bundle指令覆盖率</code>、<code>package指令覆盖率</code><br> ，如果是主项目会添加<code>jacoco-report-aggregation</code>插件，用于多项目时聚合测试报告，打印报告<a href="#%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A">详见</a></li></ul>`,2))]),n[58]||(n[58]=r('<h2 id="扩展属性" tabindex="-1"><a class="header-anchor" href="#扩展属性" aria-hidden="true">#</a> 扩展属性</h2><p><code>pmd</code>开头为<code>PMD静态检查</code>，<code>codenarc</code>开头为<code>Codenarc静态检查</code>，<code>jacoco</code>开头为<code>Jacoco覆盖率检查</code></p><table><thead><tr><th>Extension</th><th>Description</th><th>Default</th><th>Ext<sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup></th><th>Prj<sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup></th><th>Sys<sup class="footnote-ref"><a href="#footnote4">[4]</a><a class="footnote-anchor" id="footnote-ref4"></a></sup></th><th>Env<sup class="footnote-ref"><a href="#footnote5">[5]</a><a class="footnote-anchor" id="footnote-ref5"></a></sup></th></tr></thead><tbody><tr><td><code>pmdConsoleOutput</code></td><td>控制台是否打印PMD信息</td><td><code>false</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>pmdIgnoreFailures</code></td><td>PMD检查是否忽略失败</td><td><code>false</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>pmdVersion</code></td><td>PMD版本</td><td><code>6.55.0</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>codenarcIgnoreFailures</code></td><td>Codenarc检查是否忽略失败</td><td><code>false</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>codenarcVersion</code></td><td>Codenarc版本</td><td><code>3.2.0</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>jacocoVersion</code></td><td>Jacoco版本</td><td><code>0.8.8</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>jacocoBranchCoverageRuleEnabled</code></td><td>是否启用bundle分支覆盖检查</td><td><code>true</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoBranchCoveredRatio</code></td><td>bundle分支覆盖率</td><td><code>0.9</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoInstructionCoverageRuleEnabled</code></td><td>是否启用bundle指令覆盖检查</td><td><code>true</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoInstructionExclusion</code></td><td>bundle指令覆盖排除目录</td><td><code>**/app</code><br><code>**/config</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>jacocoInstructionCoveredRatio</code></td><td>bundle指令覆盖率</td><td><code>0.9</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoPackageCoverageRuleEnabled</code></td><td>是否启用package指令覆盖检查</td><td><code>true</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoPackageExclusion</code></td><td>package指令覆盖排除目录</td><td><code>*.app</code><br><code>*.config</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr><tr><td><code>jacocoPackageCoveredRatio</code></td><td>package指令覆盖率</td><td><code>0.9</code></td><td>✔</td><td>✔</td><td>✔</td><td>❌</td></tr><tr><td><code>jacocoReportExclusion</code></td><td>覆盖率报告排除目录</td><td><code>**/Application.class</code><br><code>**/app/*.class</code><br><code>**/config/*.class</code></td><td>✔</td><td>✔</td><td>❌</td><td>❌</td></tr></tbody></table><h2 id="插件安装" tabindex="-1"><a class="header-anchor" href="#插件安装" aria-hidden="true">#</a> 插件安装</h2>',4)),d(i,{id:"467",data:[{id:"Kotlin"},{id:"Groovy"}],"tab-id":"build"},{title0:e(({value:a,isActive:s})=>[...n[32]||(n[32]=[o("Kotlin",-1)])]),title1:e(({value:a,isActive:s})=>[...n[33]||(n[33]=[o("Groovy",-1)])]),tab0:e(({value:a,isActive:s})=>[...n[34]||(n[34]=[t("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[t("pre",{class:"language-kotlin"},[t("code",null,[o("plugins "),t("span",{class:"token punctuation"},"{"),o(`
    `),t("span",{class:"token function"},"id"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string-literal singleline"},[t("span",{class:"token string"},'"pub.ihub.plugin.ihub-verification"')]),t("span",{class:"token punctuation"},")"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),tab1:e(({value:a,isActive:s})=>[...n[35]||(n[35]=[t("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[t("pre",{class:"language-groovy"},[t("code",null,[o("plugins "),t("span",{class:"token punctuation"},"{"),o(`
    id `),t("span",{class:"token string"},"'pub.ihub.plugin.ihub-verification'"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),_:1}),n[59]||(n[59]=t("h2",{id:"配置示例",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#配置示例","aria-hidden":"true"},"#"),o(" 配置示例")],-1)),n[60]||(n[60]=t("h3",{id:"pmd静态检查示例",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#pmd静态检查示例","aria-hidden":"true"},"#"),o(" PMD静态检查示例")],-1)),d(i,{id:"481",data:[{id:"Kotlin"},{id:"Groovy"}],"tab-id":"build"},{title0:e(({value:a,isActive:s})=>[...n[36]||(n[36]=[o("Kotlin",-1)])]),title1:e(({value:a,isActive:s})=>[...n[37]||(n[37]=[o("Groovy",-1)])]),tab0:e(({value:a,isActive:s})=>[...n[38]||(n[38]=[t("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[t("pre",{class:"language-kotlin"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    pmdConsoleOutput`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),tab1:e(({value:a,isActive:s})=>[...n[39]||(n[39]=[t("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[t("pre",{class:"language-groovy"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    pmdConsoleOutput `),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"true"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),_:1}),n[61]||(n[61]=t("h3",{id:"codenarc静态检查示例",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#codenarc静态检查示例","aria-hidden":"true"},"#"),o(" Codenarc静态检查示例")],-1)),d(i,{id:"492",data:[{id:"Kotlin"},{id:"Groovy"}],"tab-id":"build"},{title0:e(({value:a,isActive:s})=>[...n[40]||(n[40]=[o("Kotlin",-1)])]),title1:e(({value:a,isActive:s})=>[...n[41]||(n[41]=[o("Groovy",-1)])]),tab0:e(({value:a,isActive:s})=>[...n[42]||(n[42]=[t("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[t("pre",{class:"language-kotlin"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    codenarcIgnoreFailures`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),tab1:e(({value:a,isActive:s})=>[...n[43]||(n[43]=[t("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[t("pre",{class:"language-groovy"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    codenarcIgnoreFailures `),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"true"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),_:1}),n[62]||(n[62]=t("h3",{id:"jacoco测试覆盖示例",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#jacoco测试覆盖示例","aria-hidden":"true"},"#"),o(" Jacoco测试覆盖示例")],-1)),d(i,{id:"503",data:[{id:"Kotlin"},{id:"Groovy"}],"tab-id":"build"},{title0:e(({value:a,isActive:s})=>[...n[44]||(n[44]=[o("Kotlin",-1)])]),title1:e(({value:a,isActive:s})=>[...n[45]||(n[45]=[o("Groovy",-1)])]),tab0:e(({value:a,isActive:s})=>[...n[46]||(n[46]=[t("div",{class:"language-kotlin line-numbers-mode","data-ext":"kt"},[t("pre",{class:"language-kotlin"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    jacocoBranchCoverageRuleEnabled`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),o(`
    jacocoInstructionCoverageRuleEnabled`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),o(`
    jacocoPackageCoverageRuleEnabled`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),tab1:e(({value:a,isActive:s})=>[...n[47]||(n[47]=[t("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy"},[t("pre",{class:"language-groovy"},[t("code",null,[o("iHubVerification "),t("span",{class:"token punctuation"},"{"),o(`
    jacocoBranchCoverageRuleEnabled `),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"true"),o(`
    jacocoInstructionCoverageRuleEnabled `),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"true"),o(`
    jacocoPackageCoverageRuleEnabled `),t("span",{class:"token operator"},"="),o(),t("span",{class:"token boolean"},"true"),o(`
`),t("span",{class:"token punctuation"},"}"),o(`
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])]),_:1}),n[63]||(n[63]=r('<h2 id="测试报告" tabindex="-1"><a class="header-anchor" href="#测试报告" aria-hidden="true">#</a> 测试报告</h2><p>测试用例执行完成会生成用例报告，控制台会打印测试覆盖率</p><ul><li>单个项目测试覆盖率示例<br><img src="'+c+'" alt="" loading="lazy"></li><li>项目汇总测试覆盖率示例<br><img src="'+p+'" alt="" loading="lazy"></li></ul><hr class="footnotes-sep">',4)),t("section",h,[t("ol",C,[t("li",B,[t("p",null,[n[49]||(n[49]=t("code",null,"Project",-1)),n[50]||(n[50]=o("：项目类型插件，配置于",-1)),n[51]||(n[51]=t("code",null,"build.gradle",-1)),n[52]||(n[52]=o("文件，类型说明",-1)),t("a",D,[n[48]||(n[48]=o("详见",-1)),d(l)]),n[53]||(n[53]=o()),n[54]||(n[54]=t("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1))])]),n[55]||(n[55]=r('<li id="footnote2" class="footnote-item"><p><code>Ext</code>（Extension）：插件自定义扩展属性，配置于<code>build.gradle</code>文件，配置方式<a href="explanation#%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">详见</a> <a href="#footnote-ref2" class="footnote-backref">↩︎</a></p></li><li id="footnote3" class="footnote-item"><p><code>Prj</code>（Project）：项目属性，配置于<code>gradle.properties</code>文件，配置格式<code>扩展名</code>.<code>属性名</code><a href="explanation#%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">详见</a> <a href="#footnote-ref3" class="footnote-backref">↩︎</a></p></li><li id="footnote4" class="footnote-item"><p><code>Sys</code>（System）：系统属性，如命令行传递的信息等，配置格式<code>扩展名</code>.<code>属性名</code><a href="explanation#%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">详见</a> <a href="#footnote-ref4" class="footnote-backref">↩︎</a></p></li><li id="footnote5" class="footnote-item"><p><code>Env</code>（Environment）：环境变量属性，配置格式全部大写，多个单词，用<code>_</code>分隔<a href="explanation#%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">详见</a> <a href="#footnote-ref5" class="footnote-backref">↩︎</a></p></li>',4))])])])}const H=b(f,[["render",P],["__file","iHubVerification.html.vue"]]);export{H as default};
