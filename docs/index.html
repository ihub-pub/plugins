<!--
  ~ Copyright (c) 2021 Henry 李恒 (henry.box@outlook.com).
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<!DOCTYPE html>
<html lang="cn">
<head>
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/ihub-pub/ihub-pub.github.io/favicon.ico"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify/themes/vue.css">
  <script src="https://hm.baidu.com/hm.js?2bea7ad2a40a5cfe2fc30e3429b28f32"></script>
</head>
<body>
  <div id="app"></div>
  <script>
    window.$docsify = {
        repo: 'ihub-pub/plugins',
        name: 'IHub Plugins',
        logo: 'https://cdn.jsdelivr.net/gh/ihub-pub/ihub-pub.github.io/ihub_logo.svg',
        nameLink: '/',
        homepage: 'https://cdn.jsdelivr.net/gh/ihub-pub/plugins/README.md',
        alias: {
            '.*?/_navbar.md': '/_navbar.md',
            '/([0-9]+\.[0-9]+\.[0-9]+)/_sidebar.md': 'https://cdn.jsdelivr.net/gh/ihub-pub/plugins@$1/docs/_sidebar.md',
            '/([0-9]+\.[0-9]+\.[0-9]+)/(.*)': 'https://cdn.jsdelivr.net/gh/ihub-pub/plugins@$1/docs/$2.md',
            '/([0-9]+\.[0-9]+\.[0-9]+)': 'https://cdn.jsdelivr.net/gh/ihub-pub/plugins@$1/README.md',
            '.*?/CONTRIBUTING': 'https://cdn.jsdelivr.net/gh/ihub-pub/.github/CONTRIBUTING.md',
            '.*?/CODE_OF_CONDUCT': 'https://cdn.jsdelivr.net/gh/ihub-pub/.github/CODE_OF_CONDUCT.md'
        },
        auto2top: true,
        loadSidebar: true,
        autoHeader: true,
        loadNavbar: true,
        mergeNavbar: true,
        maxLevel: 4,
        subMaxLevel: 2,
        search: {
            placeholder: '搜索',
            noData: '找不到结果',
            namespace: 'plugins'
        }
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-java.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-groovy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <!-- gitter -->
  <script>
      ((window.gitter = {}).chat = {}).options = {
          room: 'ihub-pub/plugins'
      };
  </script>
  <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  <!-- version -->
  <script>
      window.onload = replaceNav
      document.body.onclick = replaceNav

      function replaceNav() {
          if ('#/' !== window.location.hash) {
              document.querySelectorAll('.sidebar-nav a').forEach(function (a) {
                  const versionHash = window.location.hash.replace(/(#\/[0-9]+\.[0-9]+\.[0-9]+).*/, '$1')
                  if (a.href.endsWith('#/')) {
                      a.href = '/plugins'
                  } else if (versionHash.includes('.') && !a.href.includes(versionHash)) {
                      a.href = a.href.replace(/(.*)#[0-9\.\/]*(\/.*)/, '$1' + versionHash + '$2').replace(/(.*)\/$/,'$1')
                  }
              })
              document.querySelectorAll('.app-nav a').forEach(function (a) {
                  const hash = window.location.hash.replace(/#.*(\/.*)/, '$1')
                  a.href = a.href.replace(/(.*)(#\/[0-9]+\.[0-9]+\.[0-9]+).*/, '$1$2' + hash).replace(/(.*)\/$/,'$1')
              })
              document.querySelectorAll('main a').forEach(function (a) {
                  const versionHash = window.location.hash.replace(/(#\/[0-9]+\.[0-9]+\.[0-9]+).*/, '$1')
                  if (versionHash.includes('.') && !a.href.includes(versionHash)) {
                      a.href = a.href.replace(/(.*)#[0-9\.\/]*(\/.*)/, '$1' + versionHash + '$2').replace(/(.*)\/$/,'$1')
                  }
              })
          }
      }
  </script>
</body>
</html>
